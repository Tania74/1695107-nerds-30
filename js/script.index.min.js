const writeLink=document.querySelector(".write-us"),modalPopup=document.querySelector(".modal"),modalClose=modalPopup.querySelector(".modal-close"),modalForm=modalPopup.querySelector(".modal-form"),modalName=modalPopup.querySelector(".modal-name-input"),modalEmail=modalPopup.querySelector(".modal-email-input"),slider=document.querySelector(".features"),sliderOne=slider.querySelector(".slider_one"),sliderTwo=slider.querySelector(".slider_two"),sliderThree=slider.querySelector(".slider_three"),buttonOne=slider.querySelector(".button_slider_one"),buttonTwo=slider.querySelector(".button_slider_two"),buttonThree=slider.querySelector(".button_slider_three");let isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}writeLink.addEventListener("click",function(e){e.preventDefault(),modalPopup.classList.add("modal-show"),storage?(modalName.value=storage,modalEmail.focus()):modalName.focus()}),modalClose.addEventListener("click",function(e){e.preventDefault(),modalPopup.classList.remove("modal-show"),modalPopup.classList.remove("modal-error")}),modalForm.addEventListener("submit",function(e){modalName.value&&modalEmail.value?isStorageSupport&&(localStorage.setItem("name",modalName.value),localStorage.setItem("email",modalEmail.value)):(e.preventDefault(),modalPopup.classList.add("modal-error"),modalPopup.offsetWidth=modalPopup.offsetWidth,modalPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalPopup.classList.contains("modal-show")&&(e.preventDefault(),modalPopup.classList.remove("modal-show"))}),buttonOne.addEventListener("click",function(e){sliderOne.classList.add("sliders_current"),sliderTwo.classList.remove("sliders_current"),sliderThree.classList.remove("sliders_current"),buttonOne.classList.add("current"),buttonTwo.classList.remove("current"),buttonThree.classList.remove("current")}),buttonTwo.addEventListener("click",function(e){sliderOne.classList.remove("sliders_current"),sliderTwo.classList.add("sliders_current"),sliderThree.classList.remove("sliders_current"),buttonOne.classList.remove("current"),buttonTwo.classList.add("current"),buttonThree.classList.remove("current")}),buttonThree.addEventListener("click",function(e){sliderOne.classList.remove("sliders_current"),sliderTwo.classList.remove("sliders_current"),sliderThree.classList.add("sliders_current"),buttonOne.classList.remove("current"),buttonTwo.classList.remove("current"),buttonThree.classList.add("current")});
